# üéØ Toast –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è - –ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ

**–î–∞—Ç–∞:** 2024-12-22  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üìã –ü—Ä–æ–±–ª–µ–º–∞

- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ
- `alert()` –≤–º–µ—Å—Ç–æ toast –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- Inline error messages –±–µ–∑ toast
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ù–µ—Ç –µ–¥–∏–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

---

## ‚ú® –†–µ—à–µ–Ω–∏–µ

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–ü—Ä–∏–Ω—Ü–∏–ø—ã:**
1. **KISS** (Keep It Simple, Stupid) - –ø—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ –±–µ–∑ over-engineering
2. **DRY** (Don't Repeat Yourself) - –≤—Å–µ —Ç–µ–∫—Å—Ç—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
3. **Single Source of Truth** - –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –¥–ª—è –≤—Å–µ—Ö toast –∫–æ–Ω—Å—Ç–∞–Ω—Ç
4. **Type Safety** - TypeScript –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**

```
src/lib/utils/
  ‚îú‚îÄ‚îÄ toastMessages.ts   ‚Üê –í—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è toast
  ‚îî‚îÄ‚îÄ toastHelpers.ts    ‚Üê Helper —Ñ—É–Ω–∫—Ü–∏–∏ + –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∏–º–ø–æ—Ä—Ç–∞
```

---

## üìÅ –§–∞–π–ª—ã

### 1. `toastMessages.ts` - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã

```typescript
export const TOAST = {
  participant: {
    created: {
      title: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞",
      description: "–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ —Å–æ–±—ã—Ç–∏–µ"
    },
    deleted: { title: "–£–¥–∞–ª–µ–Ω–æ", description: "–£—á–∞—Å—Ç–Ω–∏–∫ —É–¥–∞–ª—ë–Ω" },
  },
  event: {
    created: { title: "–°–æ–±—ã—Ç–∏–µ —Å–æ–∑–¥–∞–Ω–æ", description: "..." },
    deleted: { title: "–°–æ–±—ã—Ç–∏–µ —É–¥–∞–ª–µ–Ω–æ", description: "..." },
  },
  club: { /* ... */ },
  profile: { /* ... */ },
  common: { /* ... */ },
} as const; // ‚Üê Type safety!
```

### 2. `toastHelpers.ts` - Helpers

```typescript
import { toast } from "@/components/ui/use-toast";
import { getErrorMessage } from "./errors";

export { TOAST } from "./toastMessages";
export { toast };

// Helper: –ø–æ–∫–∞–∑–∞—Ç—å toast —Å –æ—à–∏–±–∫–æ–π
export function showError(error: unknown, fallback = "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞") {
  toast({
    title: "–û—à–∏–±–∫–∞",
    description: getErrorMessage(error, fallback)
  });
}
```

---

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∏–º–ø–æ—Ä—Ç–∞
```typescript
import { toast, showError, TOAST } from "@/lib/utils/toastHelpers";
```

### –£—Å–ø–µ—Ö - –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π
```typescript
toast(TOAST.participant.created);
toast(TOAST.event.deleted);
toast(TOAST.club.updated);
```

### –û—à–∏–±–∫–∞ - helper —Ñ—É–Ω–∫—Ü–∏—è
```typescript
try {
  await deleteParticipant();
} catch (err) {
  showError(err, "–ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞");
}
```

---

## üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|-----------|-----------|
| `club-members-list.tsx` | –£–±—Ä–∞–Ω `alert()`, –¥–æ–±–∞–≤–ª–µ–Ω—ã toast |
| `participant-form.tsx` | –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã toast —Å–æ–æ–±—â–µ–Ω–∏—è |
| `owner-actions.tsx` | –£–±—Ä–∞–Ω—ã inline errors, –¥–æ–±–∞–≤–ª–µ–Ω—ã toast |
| `participant-actions.tsx` | –£–±—Ä–∞–Ω—ã inline errors, –¥–æ–±–∞–≤–ª–µ–Ω—ã toast |
| `club-form.tsx` | –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã toast —Å–æ–æ–±—â–µ–Ω–∏—è |
| `notification-settings-form.tsx` | –£–±—Ä–∞–Ω—ã inline errors, –¥–æ–±–∞–≤–ª–µ–Ω—ã toast |
| `profile/edit/page.tsx` | –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã toast —Å–æ–æ–±—â–µ–Ω–∏—è |

**–í—Å–µ–≥–æ:** 7 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–æ

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –ë—ã–ª–æ:
```typescript
// –†–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
alert("–ù–µ —É–¥–∞–ª–æ—Å—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤");
setError("–ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å");
toast({ title: "–£—Å–ø–µ—à–Ω–æ", description: "–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ" });
```

### –°—Ç–∞–ª–æ:
```typescript
// –ï–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –≤–µ–∑–¥–µ
import { toast, showError, TOAST } from "@/lib/utils/toastHelpers";

toast(TOAST.participant.created);
showError(err, "–ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å");
```

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –ø–æ–Ω—è—Ç–Ω–æ –ª—é–±–æ–º—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É
2. ‚úÖ **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ** - –æ–¥–∏–Ω –ø–æ–¥—Ö–æ–¥ –≤–æ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
3. ‚úÖ **Type Safety** - TypeScript –ø–æ–¥—Å–∫–∞–∂–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–ª—é—á–∏
4. ‚úÖ **–õ–µ–≥–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å** - –≤—Å–µ —Ç–µ–∫—Å—Ç—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
5. ‚úÖ **–õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** - –ø—Ä–æ—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ —Å–ª–æ–∂–Ω–æ–≥–æ state
6. ‚úÖ **–ù–µ—Ç over-engineering** - –±–µ–∑ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ö—É–∫–æ–≤ –∏ –æ–±–µ—Ä—Ç–æ–∫

---

## ‚ùå –ß—Ç–æ –ù–ï –¥–µ–ª–∞–ª–∏

### 1. –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏ `useApiMutation`, `useOptimisticMutation`
**–ü—Ä–æ–±–ª–µ–º–∞:** Over-engineering –¥–ª—è toast
- Toast = –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- –ù–µ –Ω—É–∂–µ–Ω state management
- –ù–µ –Ω—É–∂–Ω—ã callbacks
- –£—Å–ª–æ–∂–Ω—è–µ—Ç –±–µ–∑ –ø–æ–ª—å–∑—ã

### 2. –û–±—ä–µ–∫—Ç `toast.error()`, `toast.success()`
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º `toast`
- –£ –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å `toast` –∏–∑ `use-toast`
- –°–æ–∑–¥–∞–Ω–∏–µ –æ–±–µ—Ä—Ç–∫–∏ ‚Üí –ª–∏—à–Ω—è—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è
- `showError(err)` –ø—Ä–æ—â–µ —á–µ–º `toast.error(err)`

---

## üîß –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å –≤ `toastMessages.ts`
```typescript
export const TOAST = {
  // ...
  newFeature: {
    actionCompleted: {
      title: "–ì–æ—Ç–æ–≤–æ",
      description: "–î–µ–π—Å—Ç–≤–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ"
    },
  },
} as const;
```

### –®–∞–≥ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
```typescript
import { toast, TOAST } from "@/lib/utils/toastHelpers";

toast(TOAST.newFeature.actionCompleted);
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–°–æ–∑–¥–∞–Ω–æ —Ñ–∞–π–ª–æ–≤:** 2
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** 7
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~250
- **–ë–∏–ª–¥:** ‚úÖ –ü—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- **–í—Ä–µ–º—è –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é:** ~30 –º–∏–Ω—É—Ç

---

## üéì Lessons Learned

### ‚úÖ –ß—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ
1. **–û—Ç–∫–∞—Ç –∫ —á–∏—Å—Ç–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é** - —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ (–§–∞–∑—ã 1-3)
2. **–ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ** - KISS –ø—Ä–∏–Ω—Ü–∏–ø –≤–º–µ—Å—Ç–æ over-engineering
3. **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∏–º–ø–æ—Ä—Ç–∞** - —É–¥–æ–±–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
4. **Type Safety** - `as const` –¥–ª—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç

### ‚ùå –ß—Ç–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ (–ø—Ä–µ–¥—ã–¥—É—â–∏–µ –ø–æ–ø—ã—Ç–∫–∏)
1. **–ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏** - –∏–∑–ª–∏—à–Ω–µ —Å–ª–æ–∂–Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö toast
2. **–û–±—ä–µ–∫—Ç toast —Å –º–µ—Ç–æ–¥–∞–º–∏** - –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º–µ–Ω –∏ –ª–∏—à–Ω—è—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è
3. **–í–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã** - –∏–∑–±—ã—Ç–æ—á–Ω–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç

---

## üìù –ö–æ–º–º–∏—Ç

```
feat: —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π ‚ú®

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø—Ä–æ—Å—Ç–æ–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º:

üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
- toastMessages.ts - –µ–¥–∏–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Ç–µ–∫—Å—Ç–æ–≤
- toastHelpers.ts - helper —Ñ—É–Ω–∫—Ü–∏–∏ + –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∏–º–ø–æ—Ä—Ç–∞
- –ü—Ä–∏–Ω—Ü–∏–ø—ã: KISS, DRY, Single Source of Truth, Type Safety

‚ú® –ò–∑–º–µ–Ω–µ–Ω–∏—è:
- 7 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- –£–±—Ä–∞–Ω—ã alert(), inline errors
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã toast —Å–æ–æ–±—â–µ–Ω–∏—è

‚úÖ –ë–∏–ª–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
‚úÖ –ù–µ—Ç over-engineering
‚úÖ –ü—Ä–æ—Å—Ç–æ–µ –∏ –ø–æ–Ω—è—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
```

**SHA:** `239ae09`

---

**–ò—Ç–æ–≥:** –ü—Ä–æ—Å—Ç–æ–µ, –Ω–∞–¥–µ–∂–Ω–æ–µ –∏ –ª–µ–≥–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π. üéâ

