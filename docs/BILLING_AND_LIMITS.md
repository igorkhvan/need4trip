# üìã –ü—Ä–∞–≤–∏–ª–∞ –±–∏–ª–ª–∏–Ω–≥–∞ –∏ –ª–∏–º–∏—Ç–æ–≤ Need4Trip

> **–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è —Ç–∞—Ä–∏—Ñ–æ–≤, –ª–∏–º–∏—Ç–æ–≤ –∏ paywall –ª–æ–≥–∏–∫–∏**

---

## 1) –¢–∞—Ä–∏—Ñ—ã: —Å–æ—Å—Ç–∞–≤ –∏ —Å–º—ã—Å–ª

### 1.1 –ü–ª–∞–Ω = "effective limits"

–í —Å–∏—Å—Ç–µ–º–µ –µ—Å—Ç—å **—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø–ª–∞–Ω (effective plan)**, –∫–æ—Ç–æ—Ä—ã–π –≤–ª–∏—è–µ—Ç –Ω–∞ –ª–∏–º–∏—Ç—ã –∏ –¥–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏—è–º.

**Effective plan –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–∞–∫:**

- **–ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è/–æ–±—ä–µ–∫—Ç –ù–ï –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–ª—É–±—É** ‚Üí `effective plan = Free`
- **–ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç/–æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–ª—É–±—É:**
  - –µ—Å–ª–∏ `billing_status in ('active','grace')` –∏ (–µ—Å–ª–∏ –µ—Å—Ç—å `paid_until`, —Ç–æ `paid_until >= now()`) ‚Üí **–ø–ª–∞–Ω –∫–ª—É–±–∞**
  - –∏–Ω–∞—á–µ ‚Üí **fallback –Ω–∞ Free**

### 1.2 –°–ø–∏—Å–æ–∫ —Ç–∞—Ä–∏—Ñ–æ–≤ (—Ñ–∏–Ω–∞–ª—å–Ω—ã–π)

**–¢–∞—Ä–∏—Ñ—ã:** `Free`, `Club 50`, `Club 500`, `Unlimited`

#### Free
**–ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ / —Ç–µ—Å—Ç / –º–∞–ª–µ–Ω—å–∫–∏–µ –≤—ã–µ–∑–¥—ã

```typescript
{
  max_event_participants: 15,
  allow_paid_events: false,
  allow_csv_export: false,
  max_members: null  // –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ, —Ç.–∫. –Ω–µ—Ç –æ–ø–ª–∞—á–∏–≤–∞–µ–º–æ–≥–æ –∫–ª—É–±–∞
}
```

#### Club 50
```typescript
{
  max_members: 50,
  max_event_participants: 50,
  allow_paid_events: true,
  allow_csv_export: true
}
```
**–¶–µ–Ω–∞:** 990‚ÇΩ/–º–µ—Å—è—Ü

#### Club 500
```typescript
{
  max_members: 500,
  max_event_participants: 500,
  allow_paid_events: true,
  allow_csv_export: true
}
```
**–¶–µ–Ω–∞:** 2990‚ÇΩ/–º–µ—Å—è—Ü

#### Unlimited
```typescript
{
  max_members: null,        // unlimited
  max_event_participants: null,  // unlimited
  allow_paid_events: true,
  allow_csv_export: true
}
```
**–¶–µ–Ω–∞:** –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ

---

## 2) –ö–∞–∫–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ç–∞—Ä–∏—Ñ–æ–≤

### 2.1 –°—É—â–Ω–æ—Å—Ç–∏

- **Club:** –∏–º–µ–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É –∏ –ª–∏–º–∏—Ç –ø–æ —á–ª–µ–Ω–∞–º
- **Event:** –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–ª—É–±–Ω—ã–º (`club_id != null`) –∏–ª–∏ –Ω–µ –∫–ª—É–±–Ω—ã–º
- **Participants:** –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ª–∏–º–∏—Ç–∞ –ø–ª–∞–Ω–∞

### 2.2 –î–µ–π—Å—Ç–≤–∏—è (mutations), –∫–æ—Ç–æ—Ä—ã–µ –æ–±—è–∑–∞–Ω—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è backend'–æ–º

**–í—Å–µ–≥–¥–∞ —á–µ—Ä–µ–∑ enforcement, –±–µ–∑ —Ñ—Ä–æ–Ω—Ç–æ–≤—ã—Ö "–µ—Å–ª–∏":**

‚úÖ **–¢—Ä–µ–±—É—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- Create Event
- Update Event (–æ—Å–æ–±–µ–Ω–Ω–æ `max_participants`, `is_paid`, `price`, `club_id`)
- Enable Paid Event (`is_paid=true` –∏–ª–∏ `price>0`)
- CSV Export participants
- Add club member (–µ—Å–ª–∏ –µ—Å—Ç—å –∏–Ω–≤–∞–π—Ç/—Ä—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ)
- –õ—é–±—ã–µ –±—É–¥—É—â–∏–µ –º–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (bulk export, bulk invite)

‚ùå **–ù–ï —Ç—Ä–µ–±—É—é—Ç paywall:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä–∞–Ω–∏—Ü, —Å–ø–∏—Å–∫–æ–≤, –∫–∞—Ä—Ç–æ—á–µ–∫
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ (–∫—Ä–æ–º–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ event capacity)
- –ß—Ç–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

---

## 3) –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–ª–∞–Ω–∞ –∫ —Å–æ–±—ã—Ç–∏—è–º

### 3.1 –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–æ–±—ã—Ç–∏—è

–°–æ–±—ã—Ç–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å:

- **Non-club event:** `club_id = null` –∏ `is_club_event = false` ‚Üí `Free`
- **Club event:** `club_id != null` –∏ `is_club_event = true` ‚Üí –ø–ª–∞–Ω –æ—Ç –∫–ª—É–±–∞

**–ü—Ä–∞–≤–∏–ª–æ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏:**
- –µ—Å–ª–∏ `club_id != null` ‚Üí `is_club_event` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `true` (–∏–ª–∏ —Å–µ—Ä–≤–∏—Å —Å–∞–º –ø—Ä–∏–≤–æ–¥–∏—Ç)
- –µ—Å–ª–∏ `is_club_event=true` ‚Üí `club_id` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω

### 3.2 –õ–∏–º–∏—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏—è

–í —Å–æ–±—ã—Ç–∏–∏ –µ—Å—Ç—å `events.max_participants`.

**Enforcement:**
- –µ—Å–ª–∏ `effective plan` –∏–º–µ–µ—Ç `max_event_participants = X` (–Ω–µ null):
  - –Ω–µ–ª—å–∑—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `max_participants > X`
- –µ—Å–ª–∏ `null` ‚Üí unlimited

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:**
- —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫—É—é –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å:
  - `count(participants) < event.max_participants`
- paywall —É—á–∞—Å—Ç–Ω–∏–∫—É –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ–º, —Ç–æ–ª—å–∫–æ "–º–µ—Å—Ç –Ω–µ—Ç / —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∞"

### 3.3 –ü–ª–∞—Ç–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

**–°–æ–±—ã—Ç–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–ª–∞—Ç–Ω—ã–º, –µ—Å–ª–∏:**
- `is_paid = true` –ò–õ–ò
- `price > 0` (–¥–∞–∂–µ –µ—Å–ª–∏ –∑–∞–±—ã–ª–∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å `is_paid`)

**Enforcement:**
- –µ—Å–ª–∏ `allow_paid_events = false` ‚Üí **Paywall (402)**

---

## 4) –ü—Ä–∞–≤–∏–ª–∞ –ø–æ –∫–ª—É–±–∞–º

### 4.1 –õ–∏–º–∏—Ç —á–ª–µ–Ω–æ–≤ –∫–ª—É–±–∞

**–î–ª—è Club 50 / Club 500:**
- –Ω–µ–ª—å–∑—è —Å–¥–µ–ª–∞—Ç—å `club_members_count > max_members`

**–ì–¥–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:**
- –ø—Ä–∏ –∏–Ω–≤–∞–π—Ç–∞—Ö
- –ø—Ä–∏ approve –∑–∞—è–≤–∫–∏ (–µ—Å–ª–∏ –±—É–¥–µ—Ç)
- –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∞–¥–º–∏–Ω–æ–º

**–î–ª—è Unlimited:** –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.

### 4.2 –ö–ª—É–± –∏ –≥–æ—Ä–æ–¥–∞

–ö–ª—É–± –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –≥–æ—Ä–æ–¥–∞–º:
- —Ç–∞–±–ª–∏—Ü–∞ `club_cities (club_id, city_id)`
- –≠—Ç–æ –ù–ï –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç–∞—Ä–∏—Ñ—ã, –Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ UX —Ñ–∏–ª—å—Ç—Ä–æ–≤/–ø–æ–∏—Å–∫–∞

---

## 5) Paywall: –ø—Ä–∏—á–∏–Ω—ã, —Ñ–æ—Ä–º–∞—Ç, required plan

### 5.1 Paywall ‚Äî —Ç–æ–ª—å–∫–æ backend

- **Backend** –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `402` —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º payload
- **Frontend:**
  - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `PaywallModal`
  - –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/pricing`

### 5.2 Paywall reasons (—Ñ–∏–∫—Å–∏—Ä—É–µ–º –∫–∞–∫ enum)

```typescript
enum PaywallReason {
  PAID_EVENTS_NOT_ALLOWED = 'PAID_EVENTS_NOT_ALLOWED',
  CSV_EXPORT_NOT_ALLOWED = 'CSV_EXPORT_NOT_ALLOWED',
  MAX_EVENT_PARTICIPANTS_EXCEEDED = 'MAX_EVENT_PARTICIPANTS_EXCEEDED',
  MAX_CLUB_MEMBERS_EXCEEDED = 'MAX_CLUB_MEMBERS_EXCEEDED',
  CLUB_SUBSCRIPTION_INACTIVE = 'CLUB_SUBSCRIPTION_INACTIVE',
}
```

### 5.3 Mapping requiredPlanId

**–î–ª—è –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:**
```typescript
> 15 && <= 50  ‚Üí club_50
> 50 && <= 500 ‚Üí club_500
> 500          ‚Üí unlimited
```

**–î–ª—è paid/csv:**
- `required` = –º–∏–Ω–∏–º—É–º `club_50` (–µ—Å–ª–∏ –∫–ª—É–±/—Å–æ–±—ã—Ç–∏–µ –Ω–µ —Å–≤—è–∑–∞–Ω–æ —Å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–º –ª–∏–º–∏—Ç–æ–º)

**–î–ª—è –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è —á–ª–µ–Ω–æ–≤ –∫–ª—É–±–∞:**
```typescript
–ª–∏–º–∏—Ç > 50  ‚Üí club_500
–ª–∏–º–∏—Ç > 500 ‚Üí unlimited
```

### 5.4 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ paywall response (–µ–¥–∏–Ω–∞—è)

```typescript
{
  "success": false,
  "error": {
    "code": "PAYWALL",
    "reason": "MAX_EVENT_PARTICIPANTS_EXCEEDED",
    "currentPlanId": "free",
    "requiredPlanId": "club_50",
    "cta": { 
      "type": "OPEN_PRICING", 
      "href": "/pricing" 
    },
    "meta": {
      "requestedMaxParticipants": 80,
      "planMaxParticipants": 50,
      "clubId": "..."
    }
  }
}
```

---

## 6) –ò—Å—Ç–æ—á–Ω–∏–∫ –ª–∏–º–∏—Ç–æ–≤: —á—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î

### 6.1 –¢–∞–±–ª–∏—Ü–∞ club_plans

–•—Ä–∞–Ω–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–ª–∞–Ω–æ–≤ (–¥–ª—è `club_*` –ø–ª–∞–Ω–æ–≤). Free –º–æ–∂–µ—Ç –±—ã—Ç—å:
- **–∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω –≤ –∫–æ–¥–µ** –∫–∞–∫ `resolveFreePlan()`, –ª–∏–±–æ
- **–ª–µ–∂–∞—Ç—å –≤ –ë–î** –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ `free` (–º–æ–∂–Ω–æ, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥:**
- ‚úÖ Club –ø–ª–∞–Ω—ã –≤ –ë–î
- ‚úÖ Free –≤ –∫–æ–¥–µ (–∫–∞–∫ fallback) ‚Äî –º–µ–Ω—å—à–µ —Ä–∏—Å–∫–∞ "—Å–ª–æ–º–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω"

### 6.2 –ü–æ–ª—è –±–∏–ª–ª–∏–Ω–≥–∞ –≤ clubs

```typescript
{
  plan_id: 'club_50' | 'club_500' | 'unlimited',
  billing_status: 'trial' | 'active' | 'grace' | 'expired',
  paid_until: Date | null  // –µ—Å–ª–∏ –µ—Å—Ç—å –∏ < now() ‚Üí —Å—á–∏—Ç–∞—Ç—å expired
}
```

---

## 7) –ì–¥–µ –∏ –∫–∞–∫ —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤ –∫–æ–¥–µ

### 7.1 –ê–±—Å–æ–ª—é—Ç–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ

**–õ—é–±–æ–π endpoint, –∫–æ—Ç–æ—Ä—ã–π –º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –Ω–∞—Ä—É—à–∞–µ—Ç –ª–∏–º–∏—Ç—ã:**
- –¥–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å `resolveEffectivePlan‚Ä¶` + `enforce‚Ä¶`

### 7.2 –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä enforcement —Ñ—É–Ω–∫—Ü–∏–π

```typescript
enforceEventUpsertOrThrow(...)
enforceCsvExportOrThrow(...)
enforceClubMemberAddOrThrow(...)
```

---

## 8) –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ Pricing (–¥–∞–Ω–Ω—ã–µ –¥–ª—è UI)

### 8.1 –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–∞—Ä–∏—Ñ–æ–≤ (—á—Ç–æ –Ω—É–∂–Ω–æ —Ñ—Ä–æ–Ω—Ç—É)

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞:

```typescript
{
  id: 'free' | 'club_50' | 'club_500' | 'unlimited',
  title: string,
  limits: {
    maxMembers: number | null,
    maxEventParticipants: number | null,
    paidEvents: boolean,
    csvExport: boolean,
  },
  priceMonthly: number,
  currency: 'RUB',
  primaryCTA: {
    free: "–ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ",
    others: "–ü–æ–¥–∫–ª—é—á–∏—Ç—å"  // –ø–æ–∫–∞ –º–æ–∂–µ—Ç –≤–µ—Å—Ç–∏ –Ω–∞ "coming soon" –∏–ª–∏ payment flow
  }
}
```

### 8.2 –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

**–ö–æ–ª–æ–Ω–∫–∏:** Free / Club 50 / Club 500 / Unlimited

**–°—Ç—Ä–æ–∫–∏:**
- Max participants per event
- Paid events
- CSV export
- Max club members

---

## 9) Edge cases (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É—á–µ—Å—Ç—å)

### –ü–æ–Ω–∏–∂–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±—ã–ª Club 500 ‚Üí —Å—Ç–∞–ª Club 50):

**–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–æ–±—ã—Ç–∏—è —Å `max_participants > 50`:**
- ‚ùå –ù–ï –ª–æ–º–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ù–æ –∑–∞–ø—Ä–µ—â–∞–µ–º:
  - —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å `max_participants`
  - –≤–∫–ª—é—á–∞—Ç—å `paid` (–µ—Å–ª–∏ –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ)
  - —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è —Å–≤–µ—Ä—Ö –ª–∏–º–∏—Ç–∞
- üí° (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –≤ –∞–¥–º–∏–Ω–∫–µ –ø–æ–∫–∞–∑–∞—Ç—å "–≤–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —á—Ç–æ–±—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø–ª–∞–Ω—É"

### Expired / unpaid

**Club —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ Free:**
- –Ω–æ–≤—ã–µ paid/csv –∑–∞–ø—Ä–µ—â–µ–Ω—ã
- –Ω–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è >15 –∑–∞–ø—Ä–µ—â–µ–Ω—ã
- (–µ—Å–ª–∏ –æ–Ω–∏ non-club –∏–ª–∏ –∫–ª—É–±–Ω—ã–µ –ø—Ä–∏ inactive ‚Äî –ª—É—á—à–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `CLUB_SUBSCRIPTION_INACTIVE`)

### Grace

- –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫–∞–∫ `active` (–æ–±—ã—á–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π)

---

## 10) –ì–æ—Ç–æ–≤–∞—è "–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞" –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```typescript
export const FREE_LIMITS = {
  maxMembers: null,
  maxEventParticipants: 15,
  allowPaidEvents: false,
  allowCsvExport: false,
} as const;

export const PLAN_IDS = ["free", "club_50", "club_500", "unlimited"] as const;
export type PlanId = typeof PLAN_IDS[number];

export const REQUIRED_PLAN_FOR_PARTICIPANTS = (n: number): PlanId => {
  if (n <= 15) return "free";
  if (n <= 50) return "club_50";
  if (n <= 500) return "club_500";
  return "unlimited";
};
```

---

## üìä –ö—Ä–∞—Ç–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ç–∞—Ä–∏—Ñ–æ–≤

| –ü–ª–∞–Ω | –£—á–∞—Å—Ç–Ω–∏–∫–∏/—Å–æ–±—ã—Ç–∏–µ | –ß–ª–µ–Ω—ã –∫–ª—É–±–∞ | Paid events | CSV | –¶–µ–Ω–∞ |
|------|------------------|-------------|-------------|-----|------|
| **Free** | 15 | - | ‚ùå | ‚ùå | 0‚ÇΩ |
| **Club 50** | 50 | 50 | ‚úÖ | ‚úÖ | 990‚ÇΩ/–º–µ—Å |
| **Club 500** | 500 | 500 | ‚úÖ | ‚úÖ | 2990‚ÇΩ/–º–µ—Å |
| **Unlimited** | ‚àû | ‚àû | ‚úÖ | ‚úÖ | –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ |

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2024  
**–°—Ç–∞—Ç—É—Å:** –ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã
